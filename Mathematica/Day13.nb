(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 12.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[      5923,        163]
NotebookOptionsPosition[      5006,        140]
NotebookOutlinePosition[      5344,        155]
CellTagsIndexPosition[      5301,        152]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[
 RowBox[{
  RowBox[{"lines", "=", 
   RowBox[{"ReadList", "[", 
    RowBox[{
     RowBox[{"FileNameJoin", "[", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"ParentDirectory", "@", 
         RowBox[{"NotebookDirectory", "[", "]"}]}], ",", "\"\<Inputs\>\"", 
        ",", "\"\<Day13Input.txt\>\""}], "}"}], "]"}], ",", "String"}], 
    "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.816885773232875*^9, 3.816885778807444*^9}, {
  3.816885841355191*^9, 3.816885860089787*^9}, {3.816885951798751*^9, 
  3.816886003565154*^9}, {3.816886035670836*^9, 3.816886056616508*^9}, {
  3.8168862451794147`*^9, 3.8168862478661833`*^9}},
 CellLabel->"In[1]:=",ExpressionUUID->"110cdab5-4a32-46e0-bf3a-611ee2b0bf9a"],

Cell[BoxData[
 RowBox[{
  RowBox[{"part1", "[", "lines_List", "]"}], ":=", 
  RowBox[{"With", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"earliest", "=", 
       RowBox[{"FromDigits", "@", 
        RowBox[{"lines", "[", 
         RowBox[{"[", "1", "]"}], "]"}]}]}], ",", 
      RowBox[{"gaps", "=", 
       RowBox[{"FromDigits", "/@", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"StringSplit", "[", 
           RowBox[{
            RowBox[{"lines", "[", 
             RowBox[{"[", "2", "]"}], "]"}], ",", "\"\<,\>\""}], "]"}], "/.", 
          
          RowBox[{"\"\<x\>\"", "\[Rule]", "Nothing"}]}], ")"}]}]}]}], "}"}], 
    ",", "\[IndentingNewLine]", 
    RowBox[{"Times", "@@", 
     RowBox[{"First", "@", 
      RowBox[{"MinimalBy", "[", 
       RowBox[{
        RowBox[{
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"#", "-", 
             RowBox[{"Mod", "[", 
              RowBox[{"earliest", ",", "#"}], "]"}]}], ",", "#"}], "}"}], 
          "&"}], "/@", "gaps"}], ",", "First"}], "]"}]}]}]}], 
   "\[IndentingNewLine]", "]"}]}]], "Input",
 CellChangeTimes->{{3.816886072437166*^9, 3.8168861032569933`*^9}, {
  3.816886259304805*^9, 3.816886359478807*^9}, {3.816886538041053*^9, 
  3.816886634721313*^9}, {3.816886681065065*^9, 3.816886698512052*^9}},
 CellLabel->"In[2]:=",ExpressionUUID->"6c3e61ca-cbee-44d0-8a83-be864dca86bb"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"part1", "[", "lines", "]"}]], "Input",
 CellChangeTimes->{{3.816886316379321*^9, 3.81688631813822*^9}},
 CellLabel->"In[3]:=",ExpressionUUID->"89fd9a06-4d1f-4ee2-98fe-ca8c1ee2d747"],

Cell[BoxData["8063"], "Output",
 CellChangeTimes->{{3.816886318322625*^9, 3.81688636034343*^9}, {
  3.816886630772621*^9, 3.816886635769346*^9}, {3.816886688725751*^9, 
  3.8168867092830343`*^9}},
 CellLabel->"Out[3]=",ExpressionUUID->"b54a8d3c-9413-49ae-90a7-72ad5f934c65"]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
   "Take", " ", "only", " ", "the", " ", "second", " ", "line", " ", "of", 
    " ", 
    RowBox[{"input", "."}]}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"part2", "[", "str_String", "]"}], ":=", 
   RowBox[{"ChineseRemainder", "@@", 
    RowBox[{"Transpose", "@", 
     RowBox[{"MapIndexed", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"#1", "\[Equal]", "\"\<x\>\""}], ",", "Nothing", ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{
             RowBox[{"-", 
              RowBox[{"#2", "[", 
               RowBox[{"[", "1", "]"}], "]"}]}], "+", "1"}], ",", 
            RowBox[{"FromDigits", "[", "#1", "]"}]}], "}"}]}], "]"}], "&"}], 
       ",", 
       RowBox[{"StringSplit", "[", 
        RowBox[{"str", ",", "\"\<,\>\""}], "]"}]}], "]"}]}]}]}]}]], "Input",
 CellChangeTimes->{{3.816850671185829*^9, 3.816850709640913*^9}, {
  3.816861594866222*^9, 3.8168615972455273`*^9}, {3.8168857462476263`*^9, 
  3.8168857534143753`*^9}, {3.816886078231181*^9, 3.81688608295865*^9}},
 CellLabel->"In[4]:=",ExpressionUUID->"ce3de845-8362-4235-9cf0-1580b4b06a6d"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"part2", "[", 
  RowBox[{"lines", "[", 
   RowBox[{"[", "2", "]"}], "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.816885753911305*^9, 3.816885791920054*^9}, {
  3.816886251891335*^9, 3.816886252240765*^9}},
 CellLabel->"In[5]:=",ExpressionUUID->"5cfd221d-5e74-4eaa-ab50-67a2fca3d0ea"],

Cell[BoxData["775230782877242"], "Output",
 CellChangeTimes->{3.816885794574525*^9, 3.816886059331019*^9, 
  3.816886253657647*^9, 3.816886709539384*^9},
 CellLabel->"Out[5]=",ExpressionUUID->"9ec665ac-bbaf-4245-8dd1-ce18da64fda4"]
}, Open  ]]
},
WindowSize->{808, 755},
WindowMargins->{{Automatic, -16}, {Automatic, 50}},
FrontEndVersion->"12.0 for Mac OS X x86 (64-bit) (April 8, 2019)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[558, 20, 722, 16, 73, "Input",ExpressionUUID->"110cdab5-4a32-46e0-bf3a-611ee2b0bf9a"],
Cell[1283, 38, 1413, 38, 115, "Input",ExpressionUUID->"6c3e61ca-cbee-44d0-8a83-be864dca86bb"],
Cell[CellGroupData[{
Cell[2721, 80, 205, 3, 30, "Input",ExpressionUUID->"89fd9a06-4d1f-4ee2-98fe-ca8c1ee2d747"],
Cell[2929, 85, 274, 4, 34, "Output",ExpressionUUID->"b54a8d3c-9413-49ae-90a7-72ad5f934c65"]
}, Open  ]],
Cell[3218, 92, 1206, 30, 115, "Input",ExpressionUUID->"ce3de845-8362-4235-9cf0-1580b4b06a6d"],
Cell[CellGroupData[{
Cell[4449, 126, 307, 6, 30, "Input",ExpressionUUID->"5cfd221d-5e74-4eaa-ab50-67a2fca3d0ea"],
Cell[4759, 134, 231, 3, 34, "Output",ExpressionUUID->"9ec665ac-bbaf-4245-8dd1-ce18da64fda4"]
}, Open  ]]
}
]
*)

